# 选择题

## 第一章 绪论

### 一、单选题：

1. 从用户的观点来看操作系统是：（ A ）
    
    - **A．用户与计算机之间的接口**
    - B．控制和管理计算机资源的软件
    - C．合理组织计算机工作流程的软件
    - D．有若干层的程序按一定的结构组成的有机体
2. 操作系统是计算机系统的一种：（ B ）
    
    - A．应用软件
    - B．**系统软件**
    - C．通用软件
    - D．工具软件
3. 设计实时操作系统时，首先应考虑系统的：（ B ）
    
    - A．可靠性和安全性
    - B．**实时性和可靠性**
    - C．灵活性和可靠性
    - D．优良性和分配性
4. 允许多个用户以交互方式使用计算机的操作系统是：（ A ）
    
    - A．**分时操作系统**
    - B．批处理单道操作系统
    - C．实时操作系统
    - D．批处理多道操作系统
5. **操作系统的功能是进行处理机管理、设备管理、作业管理和（ B ）管理。**
    
    - A．进程
    - **B．存储器**
    - C．硬件
    - D．软件
6. 操作系统负责管理计算机系统的（ C ），其中包括处理机、存储器、设备和文件。
    
    - A．程序
    - B．文件
    - C．资源
    - D．进程
7. 如果分时系统的时间片一定，那么（ A ）则响应时间越长。
    
    - A．用户数越多
    - B．用户数越少
    - C．主存容量越大
    - D．主存容量越小
8. 分时操作系统通常采用（ B ）策略为用户服务。
    
    - A．可靠性和安全性
    - B．时间片轮转
    - C．时间片加权分配
    - D．短作业优先
9. 批处理操作系统提高了计算机系统的工作效率，但（ D ）
    
    - A．不能自动选择作业执行
    - B．无法协调资源分配
    - C．不能缩短作业执行时间
    - D．在作业执行时用户不能直接干预
10. 从下面关于并发性的论述中选出一条正确的论述。（ C ）
    
    - A．并发性是指若干事件在同一时刻发生
    - B．并发性是指若干事件在不同时刻发生
    - C．并发性是指若干事件在同一时间间隔内发生
    - D．并发性是指若干事件在不同时间间隔内发生
11. 操作系统本身是一种系统软件，因此它（ D ）
    
    - A．只能管理软件
    - B．只能管理硬件
    - C．既不管理软件也不管理硬件
    - D．既管理软件又管理硬件
12. 从系统的观点看，操作系统是对（ C ）进行管理的软件。
    
    - A．软件
    - B．硬件
    - C．计算机资源
    - D．应用程序
13. 实时操作系统必须在（ C ）内处理完来自外部的事件。
    
    - A．响应时间
    - B．周转时间
    - C．规定时间
    - D．调度时间
14. 当CPU执行操作系统代码时，处理器处于（ C ）
    
    - A．自由态
    - B．用户态
    - C．核心态
    - D．就绪态
15. 下列选项中，操作系统提供给应用程序的接口是（ A ）
    
    - A．系统调用
    - B．中断
    - C．库函数
    - D．原语
16. 在单处理器系统中，可以并行的是（ D ）
    
    - I．进程与进程
    - II．处理器与设备
    - III．处理器与通道
    - IV．设备与设备
    - A．I、II 和 III
    - B．I、II 和 IV
    - C．I、III 和 IV
    - D．II、III 和 IV
17. （ C ）操作系统允许在一台主机上同时连接多台终端，多个用户可以通过各自的终端同时交互地使用计算机。
    
    - A．网络
    - B．分布式
    - C．分时
    - D．实时
18. 分时操作系统性能的最重要参数是（ A ）
    
    - A．响应时间
    - B．周转时间
    - C．规定时间
    - D．调度时间

### 二、填空题：

1. 操作系统是计算机系统中的一个**系统**软件，它管理和控制计算机系统中的**硬件和软件资源**。
2. 软件系统由各种**程序**和数据组成。
3. 操作系统应具有这样几方面的功能：处理机管理、存储器管理、**文件管理**和**设备管理**。
4. 并发和**共享**是操作系统的两个最基本的特征，两者之间互为存在条件。
5. 如果操作系统具有很强的交互性，可以同时供多个用户使用，则属于**分时**操作系统。



## 第二章 进程和线程

### 一、单选题：
1. **下面对进程的描述中，错误的是（ D ）**
    
    - A．进程是动态的概念
    - B．进程执行需要处理机
    - C．进程是有生命周期的
    - **D．进程是指令的集合**
    
    **讲解**：进程是程序在执行过程中所发生的活动，是一个动态的概念，不是指令的集合。程序是指令的集合，而进程是程序的执行实例。
    
2. **用P、V操作管理临界区实现访问互斥时，信号量mutex的初值应定义为（ C ）**
    
    - A．–1
    - B．0
    - **C．1**
    - D．任意值
    
    **讲解**：信号量mutex初值为1表示资源空闲，当一个进程进入临界区时执行P操作，使mutex减1变为0，表示资源被占用。V操作使mutex加1。
    
3. **在进程管理中，当（ C ）时，进程从阻塞状态变为就绪状态**
    
    - A．进程被进程调度程序选中
    - B．等待某一事件
    - **C．等待的事件发生**
    - D．时间片用完
    
    **讲解**：当进程等待的事件发生（如I/O完成），进程从阻塞状态变为就绪状态，等待CPU调度。
    
4. **下列的进程状态变化中，（ C ）变化是不可能发生的。**
    
    - A．运行—〉就绪
    - B．运行—〉阻塞
    - **C．阻塞—〉运行**
    - D．阻塞—〉就绪
    
    **讲解**：阻塞状态的进程必须先变为就绪状态，才可能被调度执行，直接从阻塞变为运行是不可能的。
    
5. **下面的叙述中正确的是（ D ）**
    
    - A．操作系统的一个重要概念是进程，因此不同的进程所执行的代码也一定不同。
    - B．为了避免发生进程死锁，各进程只能逐个申请资源。
    - C．操作系统用PCB管理进程，用户进程可以从PCB中读出与本身运行情况有关的信息。
    - D．进程互斥是指某些进程之间在逻辑上的相互制约关系。
    ### 选项分析

- **A．操作系统的一个重要概念是进程，因此不同的进程所执行的代码也一定不同。**
    
    - 解析：这是错误的。不同的进程可以执行相同的代码。例如，多个进程可以运行同一个程序的不同实例。
- **B．为了避免发生进程死锁，各进程只能逐个申请资源。**
    
    - 解析：这是不完全正确的。逐个申请资源可以减少死锁的可能性，但并不能完全避免死锁。避免死锁的方法包括资源分配图、银行家算法等。
- **C．操作系统用PCB管理进程，用户进程可以从PCB中读出与本身运行情况有关的信息。**
    
    - 解析：这是错误的。PCB（进程控制块）是由操作系统管理和维护的，普通用户进程一般不能直接访问PCB中的信息，因为这涉及到操作系统的内部结构和安全问题。
- **D．进程互斥是指某些进程之间在逻辑上的相互制约关系。**
    
    - 解析：这是正确的。进程互斥是指多个进程在访问共享资源时，必须互斥，即在同一时刻只有一个进程可以访问共享资源，以防止数据不一致和竞争条件。

### 结论

- 正确的选项是 **D**。进程互斥是指某些进程之间在逻辑上的相互制约关系。
    
6. **进程控制块是描述进程状态和特性的数据结构，一个进程（ D ）**
    
    - A．可以有多个进程控制块
    - B．可以和其他进程共用一个进程控制块
    - C．可以没有进程控制块
    - **D．只能有唯一的进程控制块**
    
    **讲解**：每个进程在系统中都有唯一的进程控制块（PCB），用于记录和管理进程的各种信息。
    
7. **两个进程合作完成一个任务，在并发执行中，一个进程要等待其合作伙伴发来信息，或者建立某个条件后再向前执行，这种关系是进程间的（ A ）关系。**
    
    - **A．同步**
    - B．互斥
    - C．竞争
    - D．调用
    
    **讲解**：同步是指进程之间通过某种机制协调它们的执行顺序，以确保正确的运行结果。
    
8. **若信号量S的初值为2，当前值为-1，则表示有（ B ）等待进程。**
    
    - A．0个
    - **B．1个**
    - C．2 个
    - D．3个
    
    **讲解**：信号量值为-1，表示有1个进程在等待该信号量。
    
9. **如下哪项不属于进程创建过程中的一步（ C ）**
    
    - A．分配除CPU以外的其他资源
    - B．申请空白PCB，初始化PCB
    - **C．作业调度**
    - D．把该进程PCB插入就绪队列
    
    **讲解**：作业调度是调度作业进入内存，而进程创建的步骤包括分配资源、初始化PCB等。
    
10. **如下关于进程控制块PCB的说法错误的是（ D ）**
    
    - A．能使程序成为独立运行，并发执行的进程
    - B．常驻内存有PCB链表
    - **C．它是进程存在的唯一标志**
    - D．PCB中不包含处理机断点状态
    
    **讲解**：PCB包含了进程状态、寄存器内容等信息，是进程存在的唯一标志，而选项D错误，PCB中包含处理机断点状态。
    
11. **进程间的数据交换叫做进程通信，进程通信的类型不包括下列哪个（ D ）**
    
    - A．消息传递系统
    - B．管道通信系统
    - C．共享存储器系统
    - **D．直接通信系统**
    
    **讲解**：进程通信包括消息传递、管道通信和共享存储，但不包括直接通信系统。
    
12. **当CPU执行操作系统代码时，称处理机处于（ C ）**
    
    - A．执行态
    - B．目态
    - **C．管态**
    - D．就绪态
    
    **讲解**：管态（内核态）是CPU执行操作系统代码时的状态，具有较高权限。
    
13. **如下哪项体现了原语的主要特点（ D ）**
    
    - A．并发行
    - B．异步性
    - C．共享性
    - **D．不可分割性**
    
    **讲解**：原语是指不能被中断、必须一次性执行完毕的操作，具有不可分割性。
    
14. **对于记录型信号量，在执行一次Wait 操作时，信号量的值应当（ C ）**
    
    - A．不变
    - B．加一
    - **C．减一**
    - D．加指定数值
    
    **讲解**：Wait操作（P操作）会使信号量的值减一。
    
15. **操作系统中，PV操作是一种（ D ）**
    
    - A．机器指令
    - B．系统调用命令
    - C．作业控制命令
    - **D．低级进程通信原语**
    
    **讲解**：PV操作（P操作和V操作）是用于实现进程同步和互斥的低级进程通信原语。
    
16. **对进程的控制和管理使用（ B ）**
    
    - A．广义指令
    - **B．原语**
    - C．信号量
    - D．信箱通信
    
    **讲解**：原语是用于进程控制和管理的基本操作，通常不可分割。
    
17. **一个进程被唤醒意味着（ C ）**
    
    - A．进程的优先数变为最大
    - B．进程获得了CPU
    - **C．从阻塞状态变为就绪状态**
    - D．排在了就绪队列的队首
    
    **讲解**：进程被唤醒后从阻塞状态变为就绪状态，等待CPU调度。
    
18. **对进程的描述中，下列说法错误的是（ D ）**
    
    - A．一个进程可以包含若干个程序
    - B．一个程序可以对应多个进程
    - C．进程必须由程序作为其组成部分
    - **D．一个程序仅对应一个进程**
    
    **讲解**：一个程序可以对应多个进程，而一个进程可以包含多个程序。选项D错误。
    
19. **如下进程控制块的叙述中，说法错误的是（ D ）**
    
    - A．进程控制块对每个进程仅有一个
    - B．进程控制块记录进程的状态及名称等
    - C．进程控制块位于主存储区内
    - **D．进程控制块的内容、格式及大小均相同**
    
    **讲解**：进程控制块的内容、格式及大小可能会根据操作系统的不同而不同。选项D错误。
    
20. **用户进程被建立后，( B )**
    
    - A．便一直存在于系统中，直到被操作人员撤销
    - **B．随着作业运行正常或不正常结束而撤销**
    - C．随着时间片轮转而撤销与建立
    - D．随着进程的阻塞或唤醒而撤销与建立
    
    **讲解**：用户进程的生命周期通常从创建到完成或异常终止。
    
21. **对两个并发进程，设互斥信号量为mutex，若mutex=0，则表示（ B ）。**
    
    - A．没有进程进入临界区
    - **B．有一个进程进入临界区**
    - C．有一个进程进入临界区，另一个进程等待进入
    - D．有两个进程进入临界区
    
    **讲解**：互斥信号量为0表示当前有一个进程在临界区内。
    
22. **进程间的同步是指进程间在逻辑上的相互( B )关系。**
    
    - A．连接
    - **B．制约**
    - C．继续
    - D．调用
    
    **讲解**：同步机制用于协调进程之间的执行顺序，确保按预期逻辑运行。
    
23. **分配到必要的资源并获得处理机时的进程状态是（ B ）**
    
    - A．就绪状态
    - **B．执行状态**
    - C．阻塞状态
    - D．撤销状态
    
    **讲解**：进程从就绪状态获得处理机后进入执行状态。
    

### 填空题详细讲解

1. **在现代操作系统中，资源的分配单位是进程，而处理机的调度单位是线程。**
    
     
    
    **讲解**：资源通常分配给进程，而线程是操作系统调度的基本单位。
    
2. **在多道程序设计环境下，操作系统的主要特征为并发和共享。**
    
     
    
    **讲解**：多道程序设计的主要特征是资源共享和进程并发。
    
3. **某程序运行时需要打印中间结果，在打印时它处于阻塞态。**
    
     
    
    **讲解**：进程在等待I/O操作（如打印）完成期间会进入阻塞状态。
    
4. **进程是由程序、数据和PCB组成的。**
    
     
    
    **讲解**：进程包括程序代码、相关数据和进程控制块（PCB）。
    
5. **某程序运行时经常需要打印中间结果。计算时，该进程处于运行态，打印时处于阻塞态。**
    
     
    
    **讲解**：进程在计算时处于运行状态，在等待打印完成时处于阻塞状态。
    
6. **如果系统中有n个进程，则在就绪等待队列中进程的个数最多可为n-1个。**
    
     
    
    **讲解**：系统中有n个进程，其中一个在运行，剩余的最多n-1个在就绪队列中等待。
    
7. **进程的基本特征有动态、并发、独立性、异步性。**
    
     
    
    **讲解**：进程是动态的实体，可以并发执行，并且具有独立性和异步性。
    
8. **临界区是指进程中访问临界资源的那段程序。**
    
     
    
    **讲解**：临界区是进程中需要独占访问的资源操作区域。
    
9. **进程的同步机制原则是：空闲让进、忙则等待、有限等待、让权等待。**
    
     
    
    **讲解**：同步机制确保进程在资源空闲时可以进入临界区，资源忙时等待，并且保证有限时间内可以进入临界区。
    
10. **两个进程合作完成一个任务，在并发执行中，一个进程要等待其合作伙伴发来信息，或者建立某个条件后再向前执行，这种关系是进程间的同步关系。**
    
     
    
    **讲解**：合作进程需要通过同步机制协调执行顺序。
    
11. **引入进程的主要目的是为了让程序能够并发执行，进程存在的惟一标志是PCB。**
    
     
    
    **讲解**：进程是操作系统为了实现程序并发执行而引入的概念，PCB是进程存在的唯一标志。
    
12. **将进程的PCB链接在一起就形成了进程队列。**
    
     
    
    **讲解**：进程队列是由多个进程的PCB链接而成，用于管理系统中的所有进程。
    

### 判断题详细讲解

1. **在多道程序设计环境中，为提高CPU效率，内存中的进程越多越好。**
    
    - 错
    
    **讲解**：内存中的进程过多可能导致频繁的上下文切换和内存交换，降低系统性能。因此，进程数量需要合理控制。
    
2. **某进程的一个线程处于阻塞状态，则该进程必然处于阻塞状态。**
    
    - 错
    
    **讲解**：一个进程的多个线程可以独立运行，一个线程阻塞不影响其他线程的执行。
    
3. **在分时系统中，若当前运行的进程连续获得了两个时间片，原因可能是就绪队列为空。**
    
    - 对
    
    **讲解**：如果就绪队列为空，当前运行的进程可能连续获得多个时间片。
    
4. **一般来说，用户进程的PCB存放在用户区，系统进程的PCB存放在操作系统区。**
    
    - 错
    
    **讲解**：无论是用户进程还是系统进程，其PCB一般都存放在操作系统区，以便统一管理和保护。

## 第三章
### 一、单选题：
1. **产生死锁的四个必要条件是：互斥、（ B ）、不剥夺条件、环路等待。**
    
    - **解析**：死锁的四个必要条件是互斥、请求与保持、不剥夺和环路等待。互斥指的是资源在某一时间只能被一个进程占有；请求与保持指的是一个进程持有至少一个资源并且在等待其他资源；不剥夺指的是资源不能被强行剥夺；环路等待指的是存在一个进程集合，每个进程都在等待下一个进程占用的资源。
    - **正确答案**：B．请求与保持
2. **死锁的预防是根据（ C ）而采取措施实现的。**
    
    - **解析**：死锁的预防策略是通过破坏死锁的四个必要条件之一来实现的。例如，可以通过采用资源预分配策略来避免占有且等待条件。
    - **正确答案**：C．破坏死锁的四个必要条件之一
3. **银行家算法在解决死锁问题中是用于（ B ）的。**
    
    - **解析**：银行家算法是一种避免死锁的算法，它通过模拟资源分配过程来判断系统是否处于安全状态，从而避免进入不安全状态。
    - **正确答案**：B．避免死锁
4. **资源的按序分配策略可以破坏（ D ）条件。**
    
    - **解析**：资源按序分配策略是指所有进程按相同顺序请求资源，这样可以破坏循环等待条件，因为循环等待的前提是进程可以按任意顺序请求资源。
    - **正确答案**：D．循环等待资源
5. **为多道程序提供的可共享的资源不足时，可能出现死锁。但是，不适当的（ C ）也可能产生死锁。**
    
    - **解析**：不适当的进程推进顺序可能导致进程间的资源请求形成环路，从而引发死锁。
    - **正确答案**：C．进程推进顺序
6. **某系统中有11台打印机，N个进程共享打印机资源，每个进程要求3台。N的取值不超过（ B ）时，系统不会发生死锁。**
    
    - **解析**：计算死锁发生的最大进程数可以使用公式 `(N - 1) * 需要的资源数 + 1 <= 资源总数`，即 `(N - 1) * 3 + 1 <= 11`，解得 `N <= 5`。
    - **正确答案**：B．5
7. **死锁与安全状态的关系是（ D ）**
    
    - **解析**：死锁状态一定是不安全状态，因为在死锁状态下，资源分配和进程执行都无法继续。而安全状态则是指系统能够按某种顺序分配资源，保证所有进程最终完成。
    - **正确答案**：D．死锁状态一定是不安全状态
8. **某计算机系统中有8台打印机，有K个进程竞争使用，每个进程最多需要3台打印机，该系统可能会发生死锁的K的最小值是（ C ）**
    
    - **解析**：同样使用公式 `(K - 1) * 需要的资源数 + 1 <= 资源总数`，即 `(K - 1) * 3 + 1 <= 8`，解得 `K <= 3.33`，所以 `K = 4` 时最小可能发生死锁。
    - **正确答案**：C．4
### 二、简答题：
2. **产生死锁的基本原因是什么？发生死锁的四个必要条件是什么？死锁和饥饿有何区别？**
    
    - **产生死锁的基本原因**：资源有限且操作不当。
        
        - 系统中资源是有限的，当多个进程争夺有限资源时，如果资源分配和管理不当，就可能导致死锁的发生。
    - **死锁的四个必要条件**：
        
        1. **互斥条件**：至少有一个资源必须是非共享的，即在一个时间点只能有一个进程使用该资源。
        2. **占有且等待条件**：一个进程已经获得至少一个资源，但又在等待其他进程持有的资源。
        3. **不可剥夺条件**：资源不能被强行从进程中剥夺，只能由进程自行释放。
        4. **循环等待条件**：存在一个进程集合 {P1, P2, ..., Pn}，其中 P1 等待 P2 持有的资源，P2 等待 P3 持有的资源，依此类推，Pn 等待 P1 持有的资源，形成一个闭环。
    - **死锁和饥饿的区别**：
        
        - **饥饿**：饥饿是指一个进程由于优先级和调度算法的原因，使得其请求的资源在新请求进程优先级较高情况下永远不会分配给它的情况。饥饿是资源长期得不到分配，但并不是完全无法分配，只是分配时间不可预测。
        - **死锁**：死锁是指两个或两个以上进程都请求临界资源而又不放弃自己已占用的资源，从而导致永远无法继续执行。死锁一旦发生，没有外界干预的情况下，进程将永远无法获得所需资源并继续执行。死锁状态下，存在一条环，环上各个进程申请的资源（互斥访问）都被环上其他资源所占用。
## 第四章 调度
### 选择题
1. **当作业进入完成状态，操作系统（ B ）**
    
    - A. 将删除该作业并回收其所占的资源，同时输出结果。
    - **B. 将该作业控制块从当前作业队列中删除，收回其所占资源，并输出结果。**
    - C. 将收回该作业所占资源并输出结果。
    - D. 将输出结果并删除内存中的作业。
    
    **讲解**：当作业完成时，操作系统需要先将作业控制块从队列中移除，然后回收其占用的资源，最后输出作业结果。
    
2. **（ B ）优先权是在创建进程时确定的，确定之后在整个进程运行期间不再改变。**
    
    - A. 先来先服务
    - **B. 静态**
    - C. 动态
    - D. 短作业
    
    **讲解**：静态优先权在进程创建时确定，在整个生命周期内不变，而动态优先权可以根据进程的运行情况动态调整。
    
3. **在一般操作系统中必不可少的调度是（ D ）**
    
    - A. 高级调度
    - B. 中级调度
    - C. 作业调度
    - **D. 进程调度**
    
    **讲解**：进程调度是操作系统确保CPU有效利用的核心调度机制，负责在多个就绪进程中选择一个占用CPU执行。
    
4. **把暂时不运行的进程调到外存，条件允许重调回内存就绪队列的操作叫作（ C ）**
    
    - A. 作业调度
    - B. 进程调度
    - **C. 中级调度**
    - D. 长程调度
    
    **讲解**：中级调度（又称交换调度或对换调度）将暂时不运行的进程移出内存，待条件允许时再调回内存。
 1. **高级调度（Long-term Scheduling）**

高级调度也被称为 **作业调度（Job Scheduling）**，负责决定将哪些作业（Jobs）调入内存，从而变成进程。由于作业调度涉及到作业的选择和内存的分配，因此其频率较低。高级调度的主要目标是控制系统的作业负荷，确保系统资源被有效利用。

 2. **中级调度（Medium-term Scheduling）**

中级调度也被称为 **交换调度（Swapping Scheduling）**，负责在主存和外存之间交换进程。它的作用是通过将暂时不需要运行的进程从内存中移出（交换到外存），以释放内存资源给其他进程。中级调度可以提高内存利用率和系统的响应速度。

 3. **低级调度（Short-term Scheduling）**

低级调度也被称为 **CPU调度（CPU Scheduling）**，负责决定哪个就绪进程（Ready Process）应该获得CPU的控制权。低级调度的频率最高，因为它涉及到进程的切换。常见的CPU调度算法有：
    
5. **（ A ）是指从作业提交给系统到作业完成的时间间隔。**
    
    - **A. 周转时间**
    - B. 响应时间
    - C. 等待时间
    - D. 运行时间
    
    **讲解**：周转时间是从作业提交到系统到作业完成的总时间，包括等待时间、运行时间和其他开销时间。
    
6. **当使用最高优先数优先调度算法时,作业的平均周转时间是（ D ）小时。**
    
    - 作业 | 所需运行时间（小时） | 优先数
    - 1 | 2 | 4
    - 2 | 5 | 9
    - 3 | 8 | 1
    - 4 | 3 | 7
    - A. 4.5
    - B. 10.5
    - C. 4.75
    - **D. 10.25**
    
    **讲解**：按优先数调度顺序：3(8h), 1(2h), 4(3h), 2(5h)。周转时间计算如下：
    
    - 3: 8h
    - 1: 8 + 2 = 10h
    - 4: 10 + 3 = 13h
    - 2: 13 + 5 = 18h
    - 平均周转时间 = (8 + 10 + 13 + 18) / 4 = 49 / 4 = 12.25h
7. **操作系统有几个主要的性能参数,（ A ）指的是单位时间内系统处理的作业量。**
    
    - **A. 吞吐量**
    - B. 利用率
    - C. 性能
    - D. 文件查找查找速度
    
    **讲解**：吞吐量是指系统在单位时间内处理的作业数量，是衡量系统效率的重要指标。
    
8. **作业调度程序从处于（ D ）状态的队列中选取适当的作业投入运行。**
    
    - A. 运行
    - B. 提交
    - C. 完成
    - **D. 后备**
    
    **讲解**：作业调度程序从后备队列中选择作业调入内存，准备执行。
    
9. **作业从进入后备队列到被调度程序选中的时间间隔称为（ C ）**
    
    - A. 周转时间
    - B. 响应时间
    - **C. 等待时间**
    - D. 触发时间
    
    **讲解**：等待时间是作业在后备队列中等待被调度的时间。
    
10. **下列进程调度算法中，综合考虑进程等待时间和执行时间的是（ D ）**
    
    - A. 时间片轮转调度算法
    - B. 短进程优先调度算法
    - C. 先来先服务调度算法
    - **D. 高响应比优先调度算法**
    
    **讲解**：高响应比优先调度算法综合考虑了进程的等待时间和执行时间，通过计算响应比决定调度优先级。
    
11. **现有3个同时到达的作业J1、J2、J3，它们的执行时间分别为T1、T2、T3，且T1<T2<T3 。系统按单道方式运行且采用短作业优先算法，则平均周转时间是（ C ）**
    
    - A. T1+T2+T3
    - B. (T1+T2+T3)/3
    - **C. (3T1+2T2+T3)/3**
    - D. (T1+2T2+3T3)/3
    
    **讲解**：按短作业优先顺序执行，周转时间计算如下：
    
    - J1: T1
    - J2: T1 + T2
    - J3: T1 + T2 + T3
    - 平均周转时间 = (T1 + (T1 + T2) + (T1 + T2 + T3)) / 3 = (3T1 + 2T2 + T3) / 3
12. **若进程P一旦被唤醒就能投入运行，系统可能是（ D ）**
    
    - A. 分时系统，P的优先级最高
    - B. 抢占调度方式，就绪队列上的所有进程的优先级皆比P的低
    - C. 就绪队列为空
    - **D. 抢占调度方式，P的优先级高于当前运行的进程**
    
    **讲解**：在抢占调度方式中，如果P的优先级高于当前运行的进程，它会立刻投入运行。
    
13. **假设4个作业到达系统的时刻和运行时间如下表所示。系统在t=2时开始作业调度。若分别采用先来先服务和短作业优先调度算法，则各自最先选中的第一个作业分别是( D )。**
    
    - 作业 | 到达时间t | 运行时间
    - J1 | 0 | 3
    - J2 | 1 | 3
    - J3 | 1 | 2
    - J4 | 3 | 1
    - A. J2、J3
    - B. J1、J4
    - C. J2、J4
    - **D. J1、J3**
    
    **讲解**：
    
    - 先来先服务：最先选中到达时间最早的作业J1。
    - 短作业优先：在t=2时，最短作业是J3。
14. **进程 P0、P1、P2 和 P3 进入就绪队列的时刻、优先级(值越小优先权越高)及 CPU 执行时间如下表所示。若系统采用基于优先权的抢占式进程调度算法，则从 0 ms 时刻开始调度，到 4 个进程都运行结束为止，发生进程调度的总次数为（ C ）**
    
    - 进程 | 进入就绪队列的时刻 | 优先级 | CPU执行时间
    - P0 | 0ms   | 15 | 100ms
    - P1 | 10ms | 20 | 60ms
    - P2 | 10ms | 10 | 20ms
    - P3 | 15ms | 6 | 10ms
    - A. 4
    - B. 5
    - **C. 6**
    - D. 7
0    10   15   25    35    70   110  170
|----|----|----|-----|-----|----|----|
| P0 | P2 | P3 | P2  | P0  | P1 |
|----|----|----|-----|-----|----|----|
    **讲解**：
    
    - 0ms: P0开始执行。
    - 10ms: P2进入，抢占P0。
    - 15ms: P3进入，抢占P2。
    - 25ms: P3完成，P2继续。
    - 35ms: P2完成，P0继续。
    - 70ms: P1进入，不抢占P0。
    - 110ms: P0完成，P1继续。
    - 总次数：6次。

### 填空题

1. **进程的调度方式有两种，一种是**剥夺**方式，相反一种是非剥夺方式。**
    
     
    
    **讲解**：剥夺式调度允许操作系统在进程运行过程中将CPU从当前进程中剥夺，分配给其他进程；非剥夺式调度则不允许这种操作，必须等进程主动释放CPU。
    

### 判断题

1. **多级队列用到优先权，而多级反馈队列调度中没有用到优先权。**
    
    - 错
    
    **讲解**：多级反馈队列调度同样使用优先权机制，但优先权是动态调整的，即根据进程的运行时间和等待时间动态调整其优先级。
    

### 简答题

### 1. 高级调度（作业调度，Long-term Scheduling）

**内容：**

- 高级调度决定哪些作业（Jobs）应该被加载到内存中以成为可执行的进程。
- 主要目标是控制系统的作业负荷，确保系统资源（如内存和 CPU）得到有效利用。
- 调度的频率较低，因为作业的提交和完成频率较低。

**职责：**

- 在批处理系统中，高级调度选择作业队列中的作业，决定将哪些作业调入内存。
- 在交互式系统中，高级调度的角色可能较弱，因为用户作业的提交是动态的。

**作用：**

- 控制系统的整体负载，防止内存过载。
- 提高系统吞吐量。

### 2. 中级调度（交换调度，Medium-term Scheduling）

**内容：**

- 中级调度负责在主存和外存之间交换进程，以提高内存利用率和系统响应速度。
- 它决定哪些进程应该被交换到外存（即交换出），以及何时将其交换回主存（即交换入）。

**职责：**

- 当系统内存不足时，中级调度将不活跃或低优先级的进程交换到外存。
- 当内存有空闲时，中级调度重新将交换出的进程调回内存，使其继续执行。

**作用：**

- 通过交换进程，优化内存的使用，确保高优先级或活跃进程有足够的内存资源。
- 增强系统对多任务处理的支持，改善系统响应时间。

### 3. 低级调度（进程调度，Short-term Scheduling）

**内容：**

- 低级调度决定哪个就绪进程应该获得 CPU 控制权。
- 调度的频率非常高，因为它涉及进程的切换和上下文切换。

**职责：**

- 在所有就绪进程中选择一个进程进行执行。
- 负责进程切换和上下文切换。

**作用：**

- 管理 CPU 的分配，确保高效的 CPU 利用率。
- 提供进程的公平性和响应性。
### 必不可少的调度级别

**低级调度（进程调度）** 是必不可少的，因为它直接管理 CPU 资源的分配，确保系统能够执行进程。没有低级调度，操作系统将无法有效地管理 CPU 时间，进而无法运行进程和响应用户请求。

高级调度和中级调度虽然在某些特定环境下（如批处理系统或内存有限的系统）非常重要，但在现代操作系统中并非所有场景都必需。例如，在一些实时系统或嵌入式系统中，可能不需要复杂的高级调度或中级调度机制。

### 总结

- **高级调度（作业调度）**：决定哪些作业进入内存。
- **中级调度（交换调度）**：管理进程在内存和外存之间的交换。
- **低级调度（进程调度）**：决定哪个就绪进程获得 CPU 控制权。
## 第五章 存储管理

### 选择题:
1. **动态重定位是在作业的（ D ）中进行的。**
    
    - A. 编译过程
    - B. 装入过程
    - C. 链接过程
    - **D. 执行过程**
    
    **讲解**：动态重定位是在程序运行时将地址转换为实际内存地址，这通常在程序执行过程中通过重定位寄存器实现。
    
2. **某基于动态分区存储管理的计算机，其主存容量为55MB（初始为空），采用最佳适配算法，分配和释放的顺序为：分配15MB，分配30MB，释放15MB，分配8MB，分配6MB，此时主存中最大空闲分区的大小是（ B ）**
    
    - A. 7MB
    - **B. 9MB**
    - C. 10MB
    - D. 15MB
    
    **讲解**：操作顺序如下：
    
    - 分配15MB，剩余40MB
    - 分配30MB，剩余10MB
    - 释放15MB，剩余25MB
    - 分配8MB，剩余17MB
    - 分配6MB，剩余11MB（其中9MB是最大的连续空闲分区）
3. **在可变式分区存储管理中的紧凑技术可以（ A ）**
    
    - **A. 集中空闲区**7
    - B. 增加主存容量
    - C. 缩短访问周期
    - D. 加速地址转换
    
    **讲解**：紧凑技术通过移动内存中的各个分区，将分散的空闲区集中在一起，减少外部碎片。
    
4. **虚拟存储管理策略可以（ A ）**
    
    - **A. 扩大逻辑内存容量**
    - B. 扩大物理内存容量
    - C. 扩大逻辑外存容量
    - D. 扩大物理外存容量
    
    **讲解**：虚拟存储技术通过使用磁盘作为扩展的内存空间，使得逻辑上可用的内存容量大于实际物理内存。
    
5. **分区分配内存管理方式的主要保护措施是（ A ）**
    
    - **A. 界地址保护**
    - B. 程序代码保护
    - C. 数据保护
    - D. 栈保护
    
    **讲解**：通过基址和界限寄存器来保护进程的内存空间，防止进程越界访问。
    
6. **一个分段存储管理系统中，地址长度为32位，其中段号占10位，则段长最大（ C ）**
    
    - A. 2的8次方字节
    - B. 2的16次方字节
    - **C. 2的22次方字节**
    - D. 2的32次方字节
    
    **讲解**：段号占10位，所以偏移量占 32−10=2232−10=22 位，因此段的最大长度为 222222 字节。
    
7. **某计算机采用二级页表的分页存储管理方式，按字节编制，页大小为2^10字节，页表项大小为2字节，逻辑地址结构为：页目录号 页号 页内偏移量 逻辑地址空间大小为2^16页，则表示整个逻辑地址空间的页目录表中包含表项的个数至少是（ B ）**
    
    - A. 64
    - **B. 128**
    - C. 256
    - D. 512
    
    **讲解**：逻辑地址空间大小为 216×210=226216×210=226 字节，页目录表项数为 216/27=29=512216/27=29=512 个，但题目问的是每个页表至少包含的表项个数，则为 216/27+1=28=256216/27+1=28=256。
    
8. **在缺页处理过程中，操作系统执行的操作可能是（ D ）。**
    
    - A. 仅1,2
    - B. 仅2
    - C. 仅3
    - **D. 1,2,3**
    
    **讲解**：缺页处理过程包括更新页表、执行磁盘I/O操作来读取页面、分配新的页框。
    
9. **当系统发生抖动时，可以采取的有效措施是（ A ）**
    
    - **A. 仅1**
    - B. 仅2
    - C. 仅3
    - D. 仅1和2
    
    **讲解**：系统抖动是由于频繁的页面调度引起的，通过撤销部分进程可以减少内存压力，缓解抖动。
    
10. **下列关于虚拟存储的叙述中，正确的是（ C ）**
    
    - A. 虚拟存储只能基于连续分配技术
    - B. 虚拟存储只能基于非连续分配技术
    - **C. 虚拟存储容量只受外存容量的限制**
    - D. 虚拟存储容量只受内存容量的限制
    
    **讲解**：虚拟存储的容量取决于外存的大小，因为虚拟存储通过外存来扩展内存容量。
    
11. **虚存管理系统的基础是程序的（ A ）理论。**
    
    - **A. 局部性**
    - B. 全局性
    - C. 动态性
    - D. 虚拟性
    
    **讲解**：局部性原理说明程序在执行时，其访问的内存地址往往集中在某些区域，这使得虚拟存储管理能够高效运作。
    
12. **很好地解决了“外碎片”问题的存储管理方法是（ A ）**
    
    - **A. 页式存储管理**
    - B. 段式存储管理
    - C. 多重分区管理
    - D. 可变分区管理
    
    **讲解**：页式存储管理将内存分为固定大小的页，不存在外部碎片，但可能会有内部碎片。
    
13. **在虚拟存储系统中，若进程在内存中占3块（开始时为空），采用先进先出页面淘汰算法，当执行访问页号序列为1、2、3、4、1、2、5、1、2、3、4、5、6时，将产生（ D ）次缺页中断。**
    
    - A. 7
    - B. 8
    - C. 9
    - **D. 10**
    
    **讲解**：执行访问序列如下：
    
    - 1, 2, 3, 4（淘汰1）, 1（淘汰2）, 2（淘汰3）, 5（淘汰4）, 1（淘汰5）, 2, 3（淘汰1）, 4（淘汰2）, 5（淘汰3）, 6（淘汰4）。共10次缺页中断。
14. **内存的连续分配方式中，下列哪项是动态分区分配的不正确描述：（ A ）**
    
    - **A. 内存用户空间分成几个大小固定的分区，每个分区可以存入一道作业。**
    - B. 数据结构有两种形式：空闲分区表、空闲分区链。
    - C. 可以采用首次适应算法。
    - D. 可以采用最佳适应算法。
    
    **讲解**：动态分区分配是指内存分区大小可以动态调整，不是固定的。而选项 A 描述的是固定分区分配。
    
15. **基本分页存储管理方式中页面大小为1KB，某数据逻辑地址2170B，页号和页内位移应该是（ A ）**
    
    - **A. 2, 122**
    - B. 3, 124
    - C. 3, 122
    - D. 2, 124
    
    **讲解**：页面大小1KB，即1024B。2170B / 1024B = 2 页，余数122B，即页号为2，页内位移为122B。
    
16. **虚拟存储器是在逻辑上扩充内存容量，请求分页技术通过采用（ B ）功能和置换功能实现虚拟存储器。**
    
    - A. 请求分页
    - **B. 请求调页**
    - C. 请求分段对换
    - D. 对换
    
    **讲解**：请求分页技术通过按需将页面从磁盘调入内存（请求调页）和置换（将不常用的页面调出内存）来实现虚拟存储。
    
17. **在存储管理中，不会产生内部碎片的存储管理方式是（ B ）**
    
    - A. 分页式存储管理
    - **B. 分段式存储管理**
    - C. 固定分区式存储管理
    - D. 段页式存储管理
    
    **讲解**：分段式存储管理将内存按段分配，每段根据进程需要的大小分配，不会有固定大小导致的内部碎片问题。
    
18. **请求分页存储管理方式中，页面大小增加一倍则缺页中断次数（ B ）**
    
    - A. 增加
    - **B. 减少**
    - C. 不变
    - D. 可能增加也可能减少
    
    **讲解**：页面大小增加一倍，意味着每次调页可以调入更多数据，缺页中断次数减少。
    
19. **作业在执行中发生了缺页中断，经操作系统处理后，应让其执行（ B ）指令。**
    
    - A. 被中断的前一条
    - **B. 被中断的那一条**
    - C. 被中断的后一条
    - D. 启动时的第一条
    
    **讲解**：缺页中断处理后，系统应重新执行被中断的那一条指令，因为这条指令需要访问的页面已经调入内存。
    
20. **系统抖动是指（ B ）**
    
    - A. 使用机器时，屏幕闪烁的现象
    - **B. 刚被调出的页面又立刻被调入所形成的频繁调入调出现象**
    - C. 系统盘不净，系统不稳定的现象
    - D. 由于内存分配不当，偶然造成内存不够的现象
    
    **讲解**：系统抖动（thrashing）是由于频繁的页面调度导致的性能严重下降现象。
    
21. **下面的存储器管理方案中，只有（ D ）会使系统产生抖动。**
    
    - A. 固定分区
    - B. 可变分区
    - C. 单纯分区
    - **D. 请求分页**
    
    **讲解**：请求分页如果内存分配不当，会导致频繁的页面调度（抖动）。
    
22. **从下列关于非虚拟存储器的论述中，选出一条正确的论述（ B ）**
    
    - A. 要求作业运行前，不必全部装入内存，且在运行中不必常驻内存
    - **B. 要求作业运行前，必须全部装入内存，且在运行中必须常驻内存**
    - C. 要求作业运行前，不必全部装入内存，但在运行中必须常驻内存
    - D. 要求作业运行前，必须全部装入内存，且在运行中不必常驻内存
    
    **讲解**：传统非虚拟存储要求作业在运行前全部装入内存，并在运行过程中常驻内存。
    
23. **由固定分区方式发展为分页存储管理方式的主要推动力是（ A ）**
    
    - **A. 提高主存的利用率**
    - B. 提高系统的吞吐量
    - C. 满足用户需要
    - D. 更好地满足多道程序运行的需要
    
    **讲解**：分页存储管理通过消除外部碎片，提高了主存的利用率。
    
24. **动态重定位技术依赖于( B )。**
    
    - A. 重定位装入程序
    - **B. 重定位寄存器**
    - C. 地址机构
    - D. 目标程序
    
    **讲解**：动态重定位技术依赖于重定位寄存器，动态计算每条指令的实际内存地址。
    
25. **在可变分区管理中采用”最佳适应”分配算法时，把空闲区按（ A ）次序登记在空闲区表中。**
    
    - **A. 长度增加**
    - B. 长度递减
    - C. 地址递增
    - D. 地址递减
    
    **讲解**：最佳适应算法将空闲区按长度增加顺序排列，以便找到最适合的空闲区。
    
26. **下列诸项中，（ A ）不是影响缺页中断率的主要因素。**
    
    - **A. 缺页中断服务速度**
    - B. 分配给作业（进程）的物理块数
    - C. 系统规定页面的大小
    - D. 页面调度算法
    
    **讲解**：缺页中断率主要受页面大小、物理块数和调度算法影响，而缺页中断服务速度不影响缺页中断的发生频率。
    
27. **对于硬盘上存放的信息，物理上读写的最小单位是一个（ B ）。**
    
    - A. 字节
    - **B. 扇区**
    - C. 物理块
    - D. 逻辑记录
    
    **讲解**：硬盘读写的最小单位是扇区（sector），通常每扇区512字节。
    

### 填空题详细讲解

1. 程序经编译或汇编以后形成目标程序，其中的指令顺序是以0作为参考地址进行编址的，这些地址称为**相对地址（或逻辑地址）**。
    
     
    
    **讲解**：编译或汇编后的目标程序使用相对地址或逻辑地址，实际运行时通过重定位转换为物理地址。
    
2. 基本分页存储管理方式中页面大小为2KB，某数据逻辑地址是10468B，页号和页内位移分别是**（5，228）**。
    
     
    
    **讲解**：页面大小为2KB（2048B），10468 / 2048 = 5 页余数228B，即页号为5，页内位移为228B。
    
3. 设一个段表如下：
    
    - 段号 | 基地址 | 段长
    - 0 | 219 | 600
    - 1 | 2300 | 14
    - 2 | 90 | 100
    - 3 | 1327 | 580
    - 问：逻辑地址（0，500）对应的物理地址是**719**，逻辑地址（3，600）对应的物理地址是**地址越界-访问中断**。
    
    **讲解**：
    
    - 段0：逻辑地址（0，500）物理地址 = 219 + 500 = 719
    - 段3：逻辑地址（3，600）超出段长580，导致地址越界。
4. 虚拟存储器技术能实现一个容量相当于**外存**，速度接近于**内存**的存储体系。
    
     
    
    **讲解**：虚拟存储器通过使用外存扩展内存容量，并通过缓存机制提升访问速度。
    
5. 在连续分配方式中，可通过**拼凑**来减少内存零头。
    
     
    
    **讲解**：拼凑技术将分散的空闲区合并，减少内存碎片。
    
6. 外存空间中用于存储换出进程的存储空间叫做**交换区**。
    
     
    
    **讲解**：交换区用于存储从内存换出的进程数据。
    
7. 把逻辑地址转换为**物理地址**的工作称为地址映射。
    
     
    
    **讲解**：地址映射是将程序使用的逻辑地址转换为实际物理内存地址。
    
8. 页表表项的主要内容包括**页号**和块号。
    
     
    
    **讲解**：页表表项记录页号及其对应的物理内存块号。
    
9. 静态重定位在**作业装入**时进行，而动态重定位在**调入执行**时进行。
    
     
    
    **讲解**：静态重定位在程序装入内存时完成，而动态重定位在程序运行时完成。
    
10. 在执行某个进程时发生了缺页中断，经操作系统处理后，应让其回来执行**被中断的那一条**指令。
    
     
    
    **讲解**：缺页中断处理后重新执行被中断的指令以确保正常运行。
    
11. 存储管理中**拼凑**技术用于处理存储空间外部碎片过多的情况。
    
     
    
    **讲解**：拼凑技术合并分散的空闲区，减少外部碎片。
    
12. 在分页系统中若页面较小，虽有利于**提高内存利用率**，但会引起**页表太长**。
    
     
    
    **讲解**：页面较小减少内部碎片，提高内存利用率，但页表变长，增加管理开销。
13. **采用分段存储管理的系统中，若地址用24位表示，其中8位表示段号，则允许每段的最大长度是**2^16B (64KB)**。**
    
     
    
    **讲解**：24位地址中8位用于段号，剩余16位用于段内偏移。因此，每段的最大长度为 216216 字节，即 64KB。
    
14. **动态分区分配的最佳适应算法中，空闲区应以**空闲区容量由小到大**的次序链接。**
    
     
    
    **讲解**：最佳适应算法将空闲区按容量从小到大排列，以便找到最适合的空闲区进行分配，减少外部碎片。

### 判断题:

1. 1. **对重定位的管理方式，应在整个系统中设置一个重定位寄存器。**
    
    - 对
    
    **讲解**：重定位寄存器用于动态重定位地址，确保程序在内存中的任何位置都能正确执行。
    
2. **分区管理中采用“最佳适应”分配算法时，把空闲区按地址长度递增次序登记在空闲区表中。**
    
    - 错
    
    **讲解**：最佳适应算法将空闲区按长度递增次序排列，而非按地址排列。
    
3. **分区分配内存管理方式的主要保护措施是界地址保护。**
    
    - 对
    
    **讲解**：界地址保护通过基址和界限寄存器，防止进程越界访问内存，确保内存安全。
    
4. **作业在执行时发生缺页中断，经操作系统处理后，执行的指令是被中断的那一条。**
    
    - 对
    
    **讲解**：缺页中断处理后，应重新执行被中断的指令，因为这条指令需要的页面已经调入内存。

## 第六章 文件系统
### 选择题

1. **在文件管理中可以利用位示图来实现（ B ）**
    
    - A. 磁盘的调度
    - **B. 磁盘空间的管理**
    - C. 性能
    - D. 文件目录的查找
    
    **讲解**：位示图是用来管理磁盘空间的一种方法。位示图通过位（bit）来表示磁盘块的使用状态：0 表示空闲，1 表示已用。通过这种方式，可以方便地跟踪磁盘空间的使用情况，管理磁盘空间的分配和回收。
    
2. **如果文件系统中有两个文件重名，不应采用（ A ）**
    
    - **A. 单级目录结构**
    - B. 树型目录结构
    - C. 二级目录结构
    - D. 非循环图目录结构
    
    **讲解**：单级目录结构中所有文件位于同一个目录下，没有层次结构，文件名必须唯一。因此，在这种结构中，两个文件重名会导致冲突。而其它结构（如树型目录、二级目录、非循环图目录）都引入了层次概念，可以允许不同目录下存在相同的文件名。
    
3. **下列文件物理结构中，适合随机访问且易于文件扩展的是（ C ）**
    
    - A. 顺序结构
    - B. 链接结构
    - **C. 索引结构**
    - D. Hash结构
    
    **讲解**：索引结构使用一个索引块来存储文件各部分的指针，可以直接访问文件的任意部分，适合随机访问。而且，文件扩展时只需修改索引表，不需要移动文件内容，扩展性好。顺序结构适合顺序访问，链接结构随机访问效率较低，Hash 结构虽然也适合随机访问，但其主要用于快速查找而非文件扩展。
    
4. **文件系统用（ C ）组织文件。**
    
    - A. 堆栈
    - B. 指针
    - **C. 目录**
    - D. 路径
    
    **讲解**：文件系统通过目录来组织和管理文件。目录包含文件名及其相关信息（如文件的属性、位置等），通过目录结构可以方便地进行文件的创建、删除、查找等操作。
    
5. **从用户角度看，引入文件系统的主要目的是（ D ）**
    
    - A. 实现虚拟存储
    - B. 保护系统文档
    - C. 保存用户和系统文档
    - **D. 实现对文件的按名存取**
    
    **讲解**：文件系统主要是为了方便用户对文件进行管理和访问。用户可以通过文件名来存取文件，而不需要关心文件在磁盘上的物理位置。
    
6. **文件的逻辑组织将文件分为记录式文件和（ B ）文件。**
    
    - A. 索引文件
    - **B. 流式文件**
    - C. 字符文件
    - D. 读写文件
    
    **讲解**：文件的逻辑组织可以分为记录式文件和流式文件。记录式文件由一系列记录组成，适合存储结构化数据；流式文件则是一串连续的数据流，适合存储文本、二进制数据等。
    
7. **对位示图法说法错误的是（ C ）**
    
    - A. 文件存储空间的管理的一种简便的方法。
    - B. 一般用0表示空闲
    - **C. 一般用1表示空闲**
    - D. 每个盘块对应一个二进制位
    
    **讲解**：在位示图中，通常用0表示空闲，用1表示已用。因此，选项 C 的说法是错误的。
    
8. **一个文件的绝对路径名是从（ B ）开始，逐步沿着每一级子目录向下追溯，最后到指定文件的整个通路上所有子目录名组成的一个字符串。**
    
    - A. 当前目录
    - **B. 根目录**
    - C. 多级目录
    - D. 二级目录
    
    **讲解**：绝对路径名是从文件系统的根目录开始，逐级向下到文件的完整路径。例如，文件 `/home/user/document.txt` 的绝对路径名从根目录 `/` 开始。
    
9. **文件系统采用二级目录结构，这样可以（ D ）**
    
    - A. 缩短访问文件存储器的时间
    - B. 实现文件共享
    - C. 节省主存空间
    - **D. 解决不同用户之间的文件名冲突的问题**
    
    **讲解**：二级目录结构为每个用户创建一个独立的一级目录，用户的所有文件都存储在自己的目录中。这种结构有效地避免了不同用户之间文件名冲突的问题。
    
10. **文件系统中用（ C ）管理文件。**
    
    - A. 作业控制块
    - B. 外页表
    - **C. 目录**
    - D. 软硬件结合的方法
    
    **讲解**：文件系统通过目录来管理文件。目录包含文件名及其相关信息（如文件的属性、位置等），通过目录可以进行文件的创建、删除、查找等操作。
    
11. **一个系统，它的文件控制块占64B，一个磁盘块大小为1KB，采用一级目录。假定文件目录中有3200个目录项。问查找一个文件平均需要（ C ）次访问磁盘。**
    
    - A. 50
    - B. 54
    - **C. 101**
    - D. 200
    
    **讲解**：每个磁盘块可以存放 1024/64=161024/64=16 个目录项，共需要 3200/16=2003200/16=200 个磁盘块。查找一个文件平均需要访问 1+200/2=1011+200/2=101 次磁盘。第一次访问目录的起始块，然后平均再访问200个块中的一半。
    
12. **磁带上的文件一般只能（ A ）**
    
    - **A. 顺序存取**
    - B. 随机存取
    - C. 以字节为单位存取
    - D. 直接存取
    
    **讲解**：磁带是一种顺序访问存储介质，数据只能按顺序存取，而不能随机存取。
    
13. **最常用的流式文件是字符流文件，它可以看成是（ A ）的集合**
    
    - **A. 字符序列**
    - B. 数据
    - C. 记录
    - D. 页面
    
    **讲解**：流式文件是由一连串的字符组成的字符流文件，这些字符依次排列，形成一个字符序列。
    
14. **某文件系统的簇（块）和磁盘扇区大小分别为1 KB和512B。若一个文件的大小为1026B，则系统分配给该文件的磁盘空间大小是（ D ）。**
    
    - A. 1026B
    - B. 1536B
    - C. 1538B
    - **D. 2048B**
    
    **讲解**：簇的大小为1KB，而文件大小为1026B，需要两个簇来存储。每个簇1KB，所以总共分配的磁盘空间为2KB，即2048B。
    

### 填空题

1. **从文件管理角度看，文件由**文件说明**和文件体两部分组成。**
    **讲解**：文件说明包括文件的属性信息，如文件名、大小、创建时间等；文件体则是文件的实际内容。
2. **在 UNIX 系统中，一个目录项是由**文件名**和**索引节点号**组成的。**
    **讲解**：在 UNIX 文件系统中，目录项包含文件名和索引节点（inode）号，通过 inode 号可以找到文件的所有信息。
3. **一个系统，它的文件控制块占64B，一个磁盘块大小为1KB，采用一级目录。假定文件目录中有3200个目录项，问查找一个文件平均需要**101**次访问磁盘。
    **讲解**：同选择题第11题的解析。
4. **操作系统中按文件的性质与用途的不同，可将文件分为：**系统文件**、**用户文件**。**
    **讲解**：系统文件是操作系统需要的文件，用户文件是用户创建和使用的文件。
5. **文件的物理组织有顺序、**链接**和索引。**
    **讲解**：顺序组织按顺序存储文件内容，链接组织通过指针链接文件块，索引组织通过索引块记录文件块的位置。
6. **文件系统采用多重索引结构搜索文件内容。设块长为512字节，每个块号长4字节，所以一个索引块可以存放**128**个盘块号。**
    **讲解**：一个索引块可以存放的盘块号数量为 512/4=128512/4=128。
7. **设某系统磁盘共有500块，块号为0-499，若用位示图法管理这500块的盘空间，当字长为32位时，位图需要**16**个字，第i字第j位对应的块号是**32×i+j**。**
    **讲解**：500块需要500位表示，32位一个字，共需要 500/32=15.625500/32=15.625，即16个字。第i字第j位对应的块号为 32×𝑖+𝑗32×i+j。
### 判断题

1. **对重定位的管理方式，应在整个系统中设置一个重定位寄存器。**
    
    - 对
    
    **讲解**：重定位寄存器用于动态地址重定位，保证程序在内存中的任何位置都能正确执行。
    
2. **分区管理中采用“最佳适应”分配算法时，把空闲区按地址长度递增次序登记在空闲区表中。**
    
    - 错
    
    **讲解**：“最佳适应”分配算法是将空闲区按大小递增次序登记在空闲区表中，以便找到最适合的空闲区。
    
3. **分区分配内存管理方式的主要保护措施是界地址保护。**
    
    - 对
    
    **讲解**：界地址保护通过基址寄存器和界限寄存器来保证进程只能访问自己的地址空间，防止越界访问。
    
4. **作业在执行时发生缺页中断，经操作系统处理后，执行的指令是被中断的那一条。**
    
    - 对
    
    **讲解**：缺页中断发生时，操作系统会将所需页调入内存，之后继续执行被中断的指令。

## 第七章 输入/输出管理

### 选择题：

1. 引入高速缓冲的主要目的是（ C ）
    
    - A. 提高CPU的利用率
    - B. 提高I/O设备的利用率
    - **C. 改善CPU和I/O设备之间速度不匹配的情况**
    - D. 节省内存
2. 在UNIX操作系统中，把输入/输出设备看作是（ D ）
    
    - A. 普通文件
    - B. 目录文件
    - C. 索引文件
    - **D. 特别文件**
3. 如下不属于磁盘调度算法的是（ C ）
    
    - A. 扫描算法
    - B. 最短寻道时间优先
    - **C. 优先权算法**
    - D. C-SCAN
4. CPU输出数据的速度远远高于打印机的打印速度，为了解决这一矛盾，可采用（ C ）
    
    - A. 并行技术
    - B. 通道技术
    - **C. 缓冲技术**
    - D. 虚存技术
5. 通道相当于小型处理机，它用于实现（ A ）之间的信息传输。
    
    - **A. 内存与外设**
    - B. CPU与外设
    - C. 内存与外存
    - D. CPU与外存
6. 系统利用 SPOOLing技术实现（ B ）
    
    - A. 对换手段
    - **B. 虚拟设备**
    - C. 系统调用
    - D. 虚拟存储
7. 大多数低速设备都属于（ A ）设备。
    
    - **A. 独享**
    - B. 共享
    - C. 虚拟
    - D. SPOOLing
8. 如下对于设备控制器的描述错误的是（ A ）
    
    - **A. 设备控制器于处理机的接口有三条信号线：数据线、地址线、状态线。**
    - **数据线和地址线，但还需要控制线**
    - B. I/O逻辑用于控制设备，发出I/O指令。
    - C. 设备控制器是一个实体接口。
    - D. 设备控制器是一个可编址设备。
9. 下列哪种设备属于块设备（ C ）
    
    - A. 激光打印机
    - B. 键盘
    - **C. 磁盘**
    - D. 调制解调器
10. 如果I/O设备与存储设备进行数据交换不经过CPU来完成，这种数据交换方式是（ C ）
    
    - A. 程序查询
    - B. 中断方式
    - **C. DMA方式**
    - D. 无条件存取方式
11. 设备分配的数据结构中CHCT所指的是：（ B ）
    
    - A. 系统设备表
    - **B. 通道控制表**
    - C. 控制器控制表
    - D. 设备控制表
12. 按（ D ）分类可将设备分为块设备和字符设备。
    
    - A. 从属关系
    - B. 操作特性
    - C. 共享属性
    - **D. 信息交换单位**
13. 在中断处理中，输入/输出中断是指（ C ）：1.设备出错，2.数据传输错误
    
    - A. 1
    - B. 2
    - **C. 1和2**
    - D. 都不是
14. （ A ）是操作系统中采用的以空间换取时间的技术
    
    - **A. SPOOLING技术**
    - B. 虚拟存储技术
    - C. 覆盖与交换技术
    - D. 通道技术
15. 在操作系统中，（ A ）指的是一种硬件机制。
    
    - **A. 通道技术**
    - B. 缓冲池
    - C. SPOOLING技术
    - D. 内存覆盖技术
16. 使用户所编写的程序与实际使用的物理设备无关，这是由设备管理的（ A ）功能实现的。
    
    - **A. 设备独立性**
    - B. 设备分配
    - C. 缓冲管理
    - D. 虚拟设备
17. 在SPOOLING系统中，用户进程实际分配到的是（ B ）
    
    - A. 用户所要求的外设
    - **B. 一块内存区，即虚拟设备**
    - C. 共享设备的一部分存储区
    - D. 虚拟设备的一部分空间
18. 一个计算机系统配置有2台绘图机，3台打印机。为了正确驱动这些设备，系统应该提供（ C ）个设备驱动程序。
    
    - A. 5
    - B. 3
    - **C. 2**
    - D. 1
19. 通过硬件和软件的功能扩充，把原来独立的设备改造成能为若干用户共享的设备，这种设备称为：（ D ）
    
    - A. 存储设备
    - B. 系统设备
    - C. 用户设备
    - **D. 虚拟设备**
20. 系统利用 SPOOLing技术实现（ B ）
    
    - A. 对换手段
    - **B. 虚拟设备**
    - C. 系统调用
    - D. 虚拟存储
21. 虚存管理系统的基础是程序的（ A ）理论。
    
    - **A. 局部性**
    - B. 全局性
    - C. 动态性
    - D. 虚拟性
22. 缓冲技术中的缓冲池在（ A ）中。
    
    - **A. 内存**
    - B. 外存
    - C. ROM
    - D. 寄存器

### 填空题：

1. 访问磁道的时间由三部分组成，即**寻道时间**、**旋转延迟时间**和**数据传输时间**。
2. 引入高速缓冲的主要目的是缓解**CPU**和**外设**之间速度不匹配的矛盾。
3. 设备驱动程序是**I/O进程**和**设备控制器**之间的通信程序，如果系统中有3台相同的单显和2台相同的彩显，则必须为它们配置**2种**设备驱动程序。
4. 采用SPOOLing系统的主要功能是将独占设备改造为**共享设备/虚拟设备**。
5. 在采用SPOOLing技术的系统中，用户作业的打印输出结果首先被送到**输出井**。
6. **通道**指专门用于负责输入/输出工作的处理机。



# 大题
### 简答题练习

1. **PCB表的组织方式主要有哪几种？简要说明它们的优点。**
    
     
    
    答：常用的有线性表、链接表、索引表。
    
    - **线性表**：实现简单，适用于进程数目较少的场合，查询速度较快。
    - **链接表**：使用灵活，适用于进程数目较多且动态变化频繁的场合，插入和删除操作效率高。
    - **索引表**：处理速度快，适用于进程数目多且需要快速查找的场合，索引表能够提供快速的访问和管理。
2. **在确定调度方式和调度算法时，常用的评价准则有哪些？交互式系统更关注哪个准则？**
    
     
    
    答：常用的评价准则有：
    
    - **CPU利用率**：指CPU的忙碌程度，越高越好。
    - **吞吐量**：单位时间内系统处理的作业数，越大越好。
    - **周转时间**：从作业提交到作业完成所需的时间，越短越好。
    - **就绪等待时间**：作业在就绪队列中等待的时间，越短越好。
    - **响应时间**：从作业提交到系统第一次响应所用的时间，越短越好。
    
    交互式系统更关注**响应时间**，因为用户希望系统能够尽快对其操作做出反应。
    
3. **简述段页式存储管理的基本原理。**
    
     
    
    答：段页式存储管理将进程的地址空间分为若干段，每段再划分为若干页。具体特点如下：
    
    - **等分内存**：内存被分为大小相等的页框。
    - **地址空间分段**：进程的地址空间按逻辑功能划分为若干段，每段独立管理。
    - **段内分页**：每段再划分为若干页。
    - **逻辑地址组成**：逻辑地址由段号、页号和页内偏移量三部分组成。
    - **内存分配单位**：内存的分配单位是页框。
    - **地址转换**：需要段表、页表和段表地址寄存器，通过段表找到页表，通过页表找到实际的物理地址。
4. **常用的磁盘空闲区管理技术有哪几种？UNIX系统采用哪种方式？**
    
     
    
    答：常用的磁盘空闲区管理技术有：
    
    - **空闲空间表**：记录所有空闲块的信息。
    - **空闲块链接**：将所有空闲块链接成链表。
    - **位示图**：用位图表示磁盘块的使用情况。
    - **空闲块成组链接**：将空闲块分组管理，每组的首块中记录下一组的首块地址。
    
    UNIX系统采用**空闲块成组链接法**，这种方法在空闲块较多时效率较高。
    
5. **I/O系统的控制方式有哪几种？**
    
     
    
    答：I/O系统的控制方式主要有以下几种：
    
    - **程序控制直接传递方式**：CPU直接控制I/O操作，效率低。
    - **程序查询方式**：CPU不断查询I/O设备的状态，效率低。
    - **中断控制方式**：I/O设备完成操作后通过中断通知CPU，效率较高。
    - **DMA控制方式**：直接内存访问方式，I/O设备通过DMA控制器直接与内存交换数据，CPU只需发出起始命令和结束命令，效率高。
    - **独立通道方式**：使用独立的I/O通道控制数据传输，减轻CPU负担。
    - **I/O处理器方式**：专门的I/O处理器负责所有I/O操作，进一步减轻CPU负担。

| 调度算法                      | 中文名      | 特点                                         | 优点                          | 缺点                            | 适用场景               |
| ------------------------- | -------- | ------------------------------------------ | --------------------------- | ----------------------------- | ------------------ |
| FCFS                      | 先来先服务    | 先来先服务，按到达顺序调度，非抢占式                         | 简单易实现，对于长作业有利于CPU利用率        | 可能导致长时间等待（长尾现象），平均等待时间和周转时间较长 | 批处理系统              |
| SJF                       | 短作业优先    | 非抢占式，选择预计运行时间最短的作业                         | 平均等待时间和周转时间较短               | 需要准确的执行时间预测，可能导致长作业饥饿         | 作业运行时间已知且可预测的场景    |
| SRTF                      | 最短剩余时间优先 | 抢占式，选择剩余时间最短的作业                            | 平均等待时间和周转时间较短               | 需要准确的执行时间预测，可能导致长作业饥饿         | 作业运行时间已知且可预测的场景    |
| RR                        | 时间片轮转    | 抢占式，按时间片轮转，每个作业分配一个时间片                     | 公平，防止进程饥饿，响应时间快             | 时间片大小难以确定，太大响应时间长，太小增加上下文切换开销 | 交互式系统，适合需要响应速度快的场景 |
| Priority                  | 优先级调度    | 按优先级调度，可抢占或非抢占式                            | 根据进程的重要性调度，易于实现优先级调整        | 可能导致低优先级进程饥饿，优先级分配需要合理        | 需要区分进程重要性的场景       |
| HRRN                      | 高响应比优先   | 非抢占式，选择响应比最高的作业，响应比 = (等待时间 + 服务时间) / 服务时间 | 动态平衡短作业和长作业的需求，减少长作业的等待时间   | 计算响应比增加了调度开销，实现较复杂            | 需要平衡短作业和长作业调度的场景   |
| Multilevel Feedback Queue | 多级反馈队列   | 抢占式，多级队列，高优先级队列时间片短，低优先级队列时间片长             | 综合考虑了响应时间和周转时间，动态调整优先级，适应性强 | 实现复杂，调度开销大，参数设置较难确定           | 综合考虑响应时间和周转时间的场景   |
# cpu调度

## 先来先服务
![[Pasted image 20240627203954.png]]![[Pasted image 20240627204720.png]]
## 短作业优先

![[Pasted image 20240627205754.png]]![[Pasted image 20240627205803.png]]![[Pasted image 20240627210233.png]]![[Pasted image 20240627210253.png]]

## 高响应比优先
![[Pasted image 20240627210322.png]]
![[Pasted image 20240627210537.png]]
### 作业信息

|作业|到达时间|服务时间|
|---|---|---|
|J1|0|8|
|J2|5|4|
|J3|7|6|
|J4|9|3|

### 调度过程

#### 初始时刻（t = 0）

- 只有J1到达，可以直接执行J1。

#### t = 8

- J1执行完，时间到达t = 8。
- 作业J2和J3到达（J2到达时间为5，J3到达时间为7）。

计算J2和J3的响应比：

- J2：响应比 = 1+8−54=1+0.75=1.751+48−5​=1+0.75=1.75
- J3：响应比 = 1+8−76=1+16≈1.1671+68−7​=1+61​≈1.167

选择响应比最高的J2执行。

#### t = 12

- J2执行完，时间到达t = 12。
- 作业J4到达（J4到达时间为9）。

计算J3和J4的响应比：

- J3：响应比 = 1+12−76=1+56≈1.8331+612−7​=1+65​≈1.833
- J4：响应比 = 1+12−93=1+1=21+312−9​=1+1=2

选择响应比最高的J4执行。

#### t = 15

- J4执行完，时间到达t = 15。

计算J3的响应比：

- J3：响应比 = 1+15−76=1+86≈2.3331+615−7​=1+68​≈2.333

选择J3执行。

#### t = 21

- J3执行完，所有作业完成。

### 执行顺序

根据上述过程，作业的执行顺序为：

𝐽1→𝐽2→𝐽4→𝐽3J1→J2→J4→J3

## 高优先
![[Pasted image 20240627210505.png]]



## 时间片轮转
![[Pasted image 20240627211253.png]]
![[Pasted image 20240627211247.png]]

## 例题
![[Pasted image 20240627212029.png]]![[Pasted image 20240627212036.png]]
![[Pasted image 20240627212835.png]]![[Pasted image 20240627212040.png]]![[Pasted image 20240627212045.png]]![[Pasted image 20240627212147.png]]![[Pasted image 20240627212152.png]]![[Pasted image 20240627212157.png]]


# 页面置换算法
![[Pasted image 20240627220652.png]]
![[Pasted image 20240627222120.png]]
![[Pasted image 20240627222740.png]]![[Pasted image 20240627222748.png]]

![[Pasted image 20240627222130.png]]


# 文件
![[Pasted image 20240628003801.png]]
![[Pasted image 20240628003805.png]]![[Pasted image 20240628003810.png]]

1. 文件系统采用多重索引结构搜索文件内容。设文件索引节点中有13个地址项，前10个为直接地址索引，后三个分别为一次间接、二次间接、三次间接地址索引。设块长为512字节，每个块号长3字节。如果不考虑逻辑块号在物理块号中所占的位置，分别求二次间接索引和三次间接索引时可寻址的文件最大长度。

      ![*](file:///C:/Users/xleft/AppData/Local/Temp/msohtmlclip1/01/clip_image001.png)**解答如下：**

  ![*](file:///C:/Users/xleft/AppData/Local/Temp/msohtmlclip1/01/clip_image002.gif)块长为512字节，每个块号长3字节，所以一个索引块可以存放170个盘块号。

  ![*](file:///C:/Users/xleft/AppData/Local/Temp/msohtmlclip1/01/clip_image002.gif)二次间接索引时，最多可包含存放文件的盘块的盘块号总数为10+170+170*170，所以可寻址的文件的最大长度为(10+170+170*170 )*512B

  ![*](file:///C:/Users/xleft/AppData/Local/Temp/msohtmlclip1/01/clip_image002.gif)三次间接索引时，最多可包含存放文件的盘块的盘块号总数为10+170+170*170 +170*170*170，所以可寻址的文件的最大长度为（10+170+170*170 +170*170*170 ）*512B
  ![[Pasted image 20240628005148.png]]![[Pasted image 20240628005502.png]]

 
 ![[Pasted image 20240628162708.png]]
 ### 第一问：将字节偏移量转换为物理地址

#### 1. 字节偏移量 8000B

- 计算块号和块内偏移量：
    
    - 8000 / 1024 = 7（块号）
    - 8000 % 1024 = 832（块内偏移量）
- 因为 7 < 10，所以属于直接寻址：
    
    - 第7号直接块指向的磁盘块号为：367
    - 因此物理地址为：第367号块，块内偏移量832字节

#### 2. 字节偏移量 13000B

- 计算块号和块内偏移量：
    
    - 13000 / 1024 = 12（块号）
    - 13000 % 1024 = 712（块内偏移量）
- 因为 10 < 12 < 10 + 256，所以属于一次间接索引：
    
    - 第10号块是间接索引块，指向磁盘块428
    - 在间接索引块428中，偏移量为（12 - 10）= 2，对应的物理块号为954
    - 因此物理地址为：第954号块，块内偏移量712字节

#### 3. 字节偏移量 350000B

- 计算块号和块内偏移量：
    
    - 350000 / 1024 = 341（块号）
    - 350000 % 1024 = 816（块内偏移量）
- 因为 10 + 256 < 341 < 10 + 256 + 256 * 256，所以属于二次间接索引：
    
    - 第11号块是二次间接索引块，指向磁盘块9156
    - 在二次间接索引块9156中，计算一级间接块索引：(341 - 266) // 256 = 0，对应的一级间接块号为331
    - 在一级间接块331中，索引为(341 - 266) % 256 = 75，对应的物理块号为333
    - 因此物理地址为：第333号块，块内偏移量816字节

### 第二问：文件A和B占用的磁盘空间

#### 文件A

- 文件A大小为8000B：
    
    - 8000 / 1024 = 7（块号）
    - 8000 % 1024 = 832（块内偏移量）
- 文件A需要8个直接块：
    
    - 每个块大小为1KB，因此8个块共占用8KB。

#### 文件B

- 文件B大小为13000B：
    
    - 13000 / 1024 = 12（块号）
    - 13000 % 1024 = 712（块内偏移量）
- 文件B需要13个块：
    
    - 前10个块使用直接块
    - 另外3个块使用一次间接索引块
- 文件B需要：
    
    - 12个数据块 + 1个一级索引块 = 13个块
    - 每个块大小为1KB，因此13个块共占用13KB。

### 结果总结

- 字节偏移量 8000B：
    
    - 物理地址：第367号块，块内偏移量832字节
- 字节偏移量 13000B：
    
    - 物理地址：第954号块，块内偏移量712字节
- 字节偏移量 350000B：
    
    - 物理地址：第333号块，块内偏移量816字节
- 文件A占用的磁盘空间：8KB
    
- 文件B占用的磁盘空间：14KB


# **算法设计填空题练习**
1.生产者-消费者问题

练习1：

系统中有多个生产者进程和多个消费者进程，共享一个能存放1000件产品的环形缓冲区（初始为空）。当缓冲区未满时，生产者进程可以放入其生产的一件产品，否则等待；当缓冲区未空时，消费者进程可以从缓冲区取走一件产品，否则等待。要求**一个消费者进程从缓冲区连续取****10****件产品后**，其他消费者进程才可以取产品。设置四个信号量：empty表示缓冲区的空位数，初值为1000；full表示缓冲区的产品数，初值为0；mutex1互斥信号量，初值为1，保证任何时候只有一个进程使用缓冲区；mutex2互斥信号量，初值为1，用于控制一个消费者进程一个周期（10次）内对缓冲区的使用。使用PV操作补充算法：![[Pasted image 20240628165531.png]]![[Pasted image 20240628165534.png]]

练习2：

有三个进程PA、PB、PC协作解决文件打印问题。PA将文件记录从磁盘读入内存的缓冲区1，每执行一次读一个记录；PB将缓冲区1的内容复制到缓冲区2，每执行一次复制一个记录；PC将缓冲区2的内容打印，每执行一次打印一个记录。缓冲区的大小和一个记录大小一样。使用P、V操作来保证文件的正确打印。设信号量empty1、empty2分别表示缓冲区1及缓冲区2是否为空，其初值为1；设信号量full1、full2分别表示缓冲区1及缓冲区2是否有记录可供处理，其初值为0。请将下列算法补充完整。

![[Pasted image 20240628170256.png]]

2.读者-写者问题

练习1：（答案见教材）

一个航班预订系统有一个大型数据库，很多竞争进程要对它进行读、写。允许多个进程同时读该数据库，但是在任何时候如果有一个进程写（即修改）数据库，那么就不允许其他进程访问它——既不允许写，也不允许读。设置两个信号量：读互斥信号量**rmutex**和写互斥信号量**wmutex**。另外设立一个读计数器**readcount**，它是一个整型变量，初值为0。rmutex：用于读者互斥地访问readcount，初值为1。wmutex：用于保证一个写者与其他读者/写者互斥地访问共享资源，初值为1。下面是用“读者优先写者”的策略解决这个问题的算法，请补充完整。

![[Pasted image 20240628170527.png]]
![[Pasted image 20240628172517.png]]用“公平读写”算法解决上述读者写者问题，需要增加一个互斥信号量w ，实现排队等待，即用于控制读写进程按照申请顺序访问。算法如下：![[Pasted image 20240628173249.png]]![[Pasted image 20240628173307.png]]![[Pasted image 20240628173309.png]]

# 磁盘调度
![[Pasted image 20240628185212.png]]
### 1. 先来先服务（FCFS）

#### 调度顺序

磁头移动顺序：53 -> 98 -> 183 -> 37 -> 122 -> 14 -> 124 -> 65 -> 67

#### 寻道距离计算

- 移动距离：|98 - 53| + |183 - 98| + |37 - 183| + |122 - 37| + |14 - 122| + |124 - 14| + |65 - 124| + |67 - 65|
- 计算结果：45 + 85 + 146 + 85 + 108 + 110 + 59 + 2 = 640

#### 总的寻道长度和平均寻道长度

- 总的寻道长度：640
- 平均寻道长度：640 / 8 = 80

### 2. 最短寻道时间优先（SSTF）

#### 调度顺序

磁头移动顺序：53 -> 65 -> 67 -> 37 -> 14 -> 98 -> 122 -> 124 -> 183

#### 寻道距离计算

- 移动距离：|65 - 53| + |67 - 65| + |37 - 67| + |14 - 37| + |98 - 14| + |122 - 98| + |124 - 122| + |183 - 124|
- 计算结果：12 + 2 + 30 + 23 + 84 + 24 + 2 + 59 = 236

#### 总的寻道长度和平均寻道长度

- 总的寻道长度：236
- 平均寻道长度：236 / 8 = 29.5

### 3. 扫描法（SCAN）

#### 调度顺序

磁头移动顺序：53 -> 65 -> 67 -> 98 -> 122 -> 124 -> 183 -> 37 -> 14

#### 寻道距离计算

- 移动距离：|65 - 53| + |67 - 65| + |98 - 67| + |122 - 98| + |124 - 122| + |183 - 124| + |183 - 37| + |37 - 14|
- 计算结果：12 + 2 + 31 + 24 + 2 + 59 + 146 + 23 = 299

#### 总的寻道长度和平均寻道长度

- 总的寻道长度：299
- 平均寻道长度：299 / 8 = 37.375

### 4. 循回扫描法（C-SCAN）

#### 调度顺序

磁头移动顺序：53 -> 65 -> 67 -> 98 -> 122 -> 124 -> 183 -> (返回到0) -> 37 -> 14

#### 寻道距离计算

- 移动距离：|65 - 53| + |67 - 65| + |98 - 67| + |122 - 98| + |124 - 122| + |183 - 124| + |183 - 0| + |37 - 14|
- 计算结果：12 + 2 + 31 + 24 + 2 + 59 + 183 + 23 = 336

#### 总的寻道长度和平均寻道长度

- 总的寻道长度：336
- 平均寻道长度：336 / 8 = 42

### 5. 巡查法（LOOK和C-LOOK）

#### LOOK

#### 调度顺序

磁头移动顺序：53 -> 65 -> 67 -> 98 -> 122 -> 124 -> 183 -> 37 -> 14

#### 寻道距离计算

- 移动距离：|65 - 53| + |67 - 65| + |98 - 67| + |122 - 98| + |124 - 122| + |183 - 124| + |183 - 37| + |37 - 14|
- 计算结果：12 + 2 + 31 + 24 + 2 + 59 + 146 + 23 = 299

#### 总的寻道长度和平均寻道长度

- 总的寻道长度：299
- 平均寻道长度：299 / 8 = 37.375

#### C-LOOK

#### 调度顺序

磁头移动顺序：53 -> 65 -> 67 -> 98 -> 122 -> 124 -> 183 -> (返回到0) -> 37 -> 14

#### 寻道距离计算

- 移动距离：|65 - 53| + |67 - 65| + |98 - 67| + |122 - 98| + |124 - 122| + |183 - 124| + |183 - 0| + |37 - 14|
- 计算结果：12 + 2 + 31 + 24 + 2 + 59 + 183 + 23 = 336

#### 总的寻道长度和平均寻道长度

- 总的寻道长度：336
- 平均寻道长度：336 / 8 = 42

| 算法     | 调度顺序                                                            | 总的寻道长度 | 平均寻道长度 |
| ------ | --------------------------------------------------------------- | ------ | ------ |
| FCFS   | 53 -> 98 -> 183 -> 37 -> 122 -> 14 -> 124 -> 65 -> 67           | 640    | 80     |
| SSTF   | 53 -> 65 -> 67 -> 37 -> 14 -> 98 -> 122 -> 124 -> 183           | 236    | 29.5   |
| SCAN   | 53 -> 65 -> 67 -> 98 -> 122 -> 124 -> 183 -> 37 -> 14           | 299    | 37.375 |
| C-SCAN | 53 -> 65 -> 67 -> 98 -> 122 -> 124 -> 183 -> (返回到0) -> 37 -> 14 | 336    | 42     |
| LOOK   | 53 -> 65 -> 67 -> 98 -> 122 -> 124 -> 183 -> 37 -> 14           | 299    | 37.375 |
| C-LOOK | 53 -> 65 -> 67 -> 98 -> 122 -> 124 -> 183 -> (返回到0) -> 37 -> 14 | 336    | 42     |
|        |                                                                 |        |        |
![[Pasted image 20240628193239.png]]![[Pasted image 20240628193242.png]]① FCFS

磁头移动顺序：143→86→147→91→177→94→150→102→175→130    

磁头移动总量：57+61+56+86+83+56+48+73+45=565

② SSTF

磁头移动顺序：143→147→150→130→102→94→91→86→175→177 

磁头移动总量：4+3+20+28+8+3+5+89+2=162

③ SCAN

磁头移动顺序：143→147→150→175→177→199→130→102→94→91→86

磁头移动总量：4+3+25+2+22+69+28+8+3+5=169

④ C-SCAN

磁头移动顺序：143→147→150→175→177→199→0→86→91→94→102→130

磁头移动总量：4+3+25+2+22+199+86+5+3+8+28=385

![[Pasted image 20240628193711.png]]
12．把磁头从当前位置移到相应的磁道上或柱面上，这个操作过程叫做寻道。

访问磁盘一般要有三部分时间：**寻道时间、旋转延迟时间和传输时间**。

寻道时间是磁盘调度的主要目标。

传输时间是硬件设计时就固定的，寻道时间和旋转延迟时间与信息在磁盘上的位置有关。因为磁头臂是机械移动，所以对大多数磁盘来说，**寻道时间远大于旋转延迟时间与传输时间之和**，它是影响磁盘调度的主要因素。